configurations {
    ktlint
}

task copyGitHooks(type: Copy) {
    setDescription("Copies the pre-commit to the .git folder.")
    from "${rootDir}/scripts/pre-commit.sh"
    into "${rootDir}/.git/hooks"
}

task ktlint(type: JavaExec, group: "verification") {
    setDescription("Check Kotlin code style.")
    classpath = configurations.ktlint
    mainclaas.set("com.github.shyiko.ktlint.Main")
    args "src/**/*.kt"
}

task ktlintFormat(type: JavaExec, group: "formatting") {
    setDescription("Fix Kotlin code style deviations.")
    classpath = configurations.ktlint
    mainclaas.set("com.github.shyiko.ktlint.Main")

    args "-F", "src/**/*.kt"
}
